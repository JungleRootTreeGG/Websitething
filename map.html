<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Earth Shipping Routes - Manual Routes</title>
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  crossorigin=""
/>
<style>
  html, body { margin:0; padding:0; height:100%; width:100%; }
  #map { height:100vh; width:100vw; }
  .leaflet-container { background:#000; }

  /* port label styling */
  .port-label {
    color: #fff;
    font-weight: bold;
    font-size: 14px;
    text-shadow: 1px 1px 2px #000;
    pointer-events: none; /* so clicks go through to the marker */
  }
</style>
</head>
<body>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
<script>
/* =========================
   MAP CONFIGURATION
========================= */
const IMG_URL = 'https://i.postimg.cc/YSDwq0ms/map.webp';
const IMG_WIDTH = 1005;
const IMG_HEIGHT = 500;

const map = L.map('map',{crs:L.CRS.Simple, minZoom:0, maxZoom:3});
const bounds=[[0,0],[IMG_HEIGHT,IMG_WIDTH]];
L.imageOverlay(IMG_URL, bounds).addTo(map);
map.fitBounds(bounds);

/* =========================
   HELPER TO INVERT Y
========================= */
function invertY(y){ return IMG_HEIGHT - y; }

/* =========================
   PORT ICON
========================= */
function createPortIcon(selected=false){
  return L.icon({ 
    iconUrl:'https://i.postimg.cc/wMs4zThh/anchor.png',
    iconSize: selected?[48,48]:[42,42],
    iconAnchor:[24,24]
  });
}

/* =========================
   PORT DATA
========================= */
const ports=[
  { name:'Miami', coords:[invertY(171), 273] },
  { name:'London', coords:[invertY(102), 503] },
  { name:'Konigsberg', coords:[invertY(97), 560] }
];

/* =========================
   PRE-DEFINED ROUTES
========================= */
const routes=[
  {
    from:'Miami',
    to:'London',
    coords:[
      [invertY(171), 273],
      [invertY(102), 503]
    ]
  },
  {
    from:'Miami',
    to:'Konigsberg',
